# 待办事项清单

## 🔥 高优先级（紧急重要）

### 后端/数据分析
- [x] 扩展 collector 多源采集与异常监控 (完成于 2025-11-15)
  - 描述: history/latest 双源抽象、失败重试、collector_logs/pipeline_stats 落库
  - 模块: 数据采集

- [x] 丰富特征/分析结果 schema (完成于 2025-11-15)
  - 描述: lottery_features/analysis_results 引入 schema_version/meta、trend_summary 特征
  - 模块: 特征工程

- [x] 构建分析任务调度与可视化监控 (完成于 2025-11-15)
  - 描述: 通过 scheduler.py 周期运行 collector/validator/worker，pipeline_stats + pipeline_alerts 提供告警数据；后续仅需补 UI 看板
  - 模块: 调度 & 监控

### 后端API
- [x] 新增分析结果缓存/分页 (完成于 2025-11-15)
  - 描述: 引入 cache_store（Redis/内存回退）、`/api/v1/analysis/*` 增加分页/过滤
  - 模块: 后端API

### 前端
- [x] 初始化 React + shadcn/ui 项目 (完成于 2025-11-15)
  - 描述: 使用 Vite + pnpm + Tailwind/shadcn 构建 frontend、配置 QueryClient/路由与 API Client
  - 模块: 前端

- [x] 搭建仪表板页面 (完成于 2025-11-15)
  - 描述: Dashboard 展示开奖、特征摘要、analysis_jobs 与 analysis_results，支持手动刷新
  - 模块: 前端

## 📌 中优先级（重要不紧急）

### 后端/数据分析
- [ ] 统计/状态转移分析模块
  - 截止日期: 2025-11-30
  - 描述: 频率分析、随机性检验、Markov 转移矩阵
  - 模块: 分析

- [ ] 任务执行性能优化
  - 截止日期: 2025-11-28
  - 描述: 引入批处理、异步 IO，压测 jobs_worker
  - 模块: 特征工程

### 后端API
- [ ] 特征/分析结果导出能力
  - 截止日期: 2025-11-29
  - 描述: 支持 CSV/JSON 导出、批量 period 查询
  - 模块: 后端API

### 前端
- [ ] 分析图表页面
  - 截止日期: 2025-11-30
  - 描述: 显示多种分析结果、交互筛选
  - 模块: 前端

- [ ] 历史数据页面
  - 截止日期: 2025-12-02
  - 描述: 历史开奖/特征列表、筛选、导出
  - 模块: 前端

## 💡 低优先级（可延后）
- [ ] 策略回测模块
  - 截止日期: 2025-12-15
  - 描述: 策略定义、回测框架、绩效指标
  - 模块: 分析

- [ ] 系统级自动化测试
  - 截止日期: 2025-12-10
  - 描述: 为 collector/validator/worker/API 编写端到端测试
  - 模块: 测试

- [ ] 用户/API 使用文档
  - 截止日期: 2025-12-05
  - 描述: 编写部署指南与 API reference
  - 模块: 文档

## 🔄 进行中
- [ ] 技术架构文档迭代 (进度: 90%)
  - 开始日期: 2025-01-XX
  - 预计完成: 2025-11-20
  - 描述: 补充任务调度、监控章节

- [ ] 分析框架文档完善 (进度: 80%)
  - 开始日期: 2025-01-XX
  - 预计完成: 2025-11-20
  - 描述: 添加特征 schema 示例、常见问题

## ✅ 最近完成
- [x] 扩展 collector 多源采集与异常监控 (完成于 2025-11-15)
  - 描述: history/latest 双源抽象、collector_logs + pipeline_stats 写入

- [x] 丰富特征/分析结果 schema (完成于 2025-11-15)
  - 描述: schema_version/meta 字段、trend_summary 任务/特征

- [x] 新增分析结果缓存/分页 (完成于 2025-11-15)
  - 描述: FastAPI API 支持分页过滤，后端 cache_store 复用 Redis/本地缓存

- [x] 构建调度与告警 (完成于 2025-11-15)
  - 描述: scheduler.py 调度 collector/validator/worker，pipeline_alerts 记录失败及连续告警

- [x] 创建技术架构文档 (完成于 2025-01-XX)
  - 耗时: 0.5 天
  - 描述: 完成技术架构文档，包含前后端技术栈、数据库设计、API设计、项目结构等

- [x] 创建腾讯分分彩分析框架文档 (完成于 2025-01-XX)
  - 耗时: 1 天
  - 描述: 完成完整的数据分析框架文档，包含12个主要分析模块

- [x] 完善分析框架细节 (完成于 2025-01-XX)
  - 耗时: 0.5 天
  - 描述: 添加数据格式规范、分析流程示例、常见问题解答、代码实现思路等

- [x] 验证采集→校验→落库闭环 (完成于 2025-11-15)
  - 描述: 运行 collector/validator，确认 lottery_draws/analysis_jobs 全量写入

- [x] 新增分析结果/特征 API (完成于 2025-11-15)
  - 描述: 发布 `/api/v1/analysis/*` 与 `/api/v1/features/{period}`，支持 JSON 解析

- [x] 验证 jobs_worker 批处理 (完成于 2025-11-15)
  - 描述: run_worker(once=True) 消化 265 条任务，lottery_features/analysis_results 与 lottery_draws 对齐
